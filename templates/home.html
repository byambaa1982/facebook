{% extends "base.html" %}

{% block title %}Facebook Posting Tutorial{% endblock %}

{% block header %}
<div style="display: flex; justify-content: space-between; align-items: center; max-width: 1200px; margin: 0 auto; padding: 0 20px;">
    <h1 style="margin: 0; color: #1877f2;">Facebook Posting Tutorial</h1>
    
    <!-- Hamburger Menu -->
    <div class="hamburger-menu">
        <button id="hamburger-btn" style="background: none; border: none; font-size: 24px; cursor: pointer; color: #1877f2;">
            ‚ò∞
        </button>
        <div id="menu-dropdown" style="display: none; position: absolute; right: 20px; top: 60px; background: white; border: 1px solid #ddd; border-radius: 8px; box-shadow: 0 4px 6px rgba(0,0,0,0.1); z-index: 1000; min-width: 150px;">
            <div style="padding: 10px 0;">
                <div id="user-status" style="padding: 10px 15px; border-bottom: 1px solid #eee; font-size: 14px; color: #666;">
                    Loading...
                </div>
                <div id="auth-links" style="padding: 5px 0;">
                    <!-- Auth links will be populated by auth.js -->
                </div>
            </div>
        </div>
    </div>
</div>

<style>
.hamburger-menu {
    position: relative;
}

#menu-dropdown {
    animation: fadeIn 0.2s ease-in-out;
}

@keyframes fadeIn {
    from { opacity: 0; transform: translateY(-10px); }
    to { opacity: 1; transform: translateY(0); }
}

.menu-item {
    display: block;
    padding: 10px 15px;
    text-decoration: none !important;
    color: #333 !important;
    transition: background-color 0.2s;
    cursor: pointer !important;
}

.menu-item:hover {
    background-color: #f5f5f5;
}

.code-block {
    background: #f8f9fa;
    border: 1px solid #e9ecef;
    border-radius: 8px;
    padding: 15px;
    margin: 15px 0;
    font-family: 'Courier New', monospace;
    overflow-x: auto;
}

.feature-card {
    background: white;
    border: 1px solid #e1e5e9;
    border-radius: 8px;
    padding: 20px;
    margin: 15px 0;
    box-shadow: 0 2px 4px rgba(0,0,0,0.1);
}

.feature-card h3 {
    color: #1877f2;
    margin-top: 0;
}

.step-number {
    background: #1877f2;
    color: white;
    border-radius: 50%;
    width: 30px;
    height: 30px;
    display: inline-flex;
    align-items: center;
    justify-content: center;
    margin-right: 10px;
    font-weight: bold;
}

/* Fix hamburger button styling conflicts */
#hamburger-btn {
    background: none !important;
    border: none !important;
    font-size: 24px !important;
    cursor: pointer !important;
    color: #1877f2 !important;
    padding: 8px !important;
    border-radius: 4px !important;
    transition: background-color 0.2s !important;
}

#hamburger-btn:hover {
    background: rgba(24, 119, 242, 0.1) !important;
}
</style>

<script>
// Simple hamburger menu functionality
document.addEventListener('DOMContentLoaded', function() {
    const hamburgerBtn = document.getElementById('hamburger-btn');
    const menuDropdown = document.getElementById('menu-dropdown');

    if (hamburgerBtn && menuDropdown) {
        // Toggle menu
        hamburgerBtn.addEventListener('click', function(e) {
            e.stopPropagation();
            menuDropdown.style.display = menuDropdown.style.display === 'none' ? 'block' : 'none';
        });

        // Close menu when clicking outside
        document.addEventListener('click', function() {
            menuDropdown.style.display = 'none';
        });

        // Prevent menu from closing when clicking inside
        menuDropdown.addEventListener('click', function(e) {
            e.stopPropagation();
        });
    }
});
</script>
{% endblock %}

{% block content %}
<div style="max-width: 1200px; margin: 0 auto; padding: 20px;">
    <div style="text-align: center; margin-bottom: 40px;">
        <h2 style="color: #1877f2; margin-bottom: 10px;">Learn How to Post Content to Facebook</h2>
        <p style="font-size: 18px; color: #666; margin: 0;">Using our Facebook Page Manager tools and API</p>
    </div>

    <!-- Quick Start Guide -->
    <div class="feature-card">
        <h3>üöÄ Quick Start Guide</h3>
        <p>Get started with posting to Facebook using our comprehensive tools. Follow these steps to begin:</p>
        
        <div style="margin: 20px 0;">
            <div style="display: flex; align-items: center; margin: 10px 0;">
                <span class="step-number">1</span>
                <span>Set up your Facebook credentials in <code>creds.json</code></span>
            </div>
            <div style="display: flex; align-items: center; margin: 10px 0;">
                <span class="step-number">2</span>
                <span>Choose your posting method (Class-based or Function-based)</span>
            </div>
            <div style="display: flex; align-items: center; margin: 10px 0;">
                <span class="step-number">3</span>
                <span>Run the demo scripts to test functionality</span>
            </div>
            <div style="display: flex; align-items: center; margin: 10px 0;">
                <span class="step-number">4</span>
                <span>Integrate with your application</span>
            </div>
        </div>
    </div>

    <!-- Configuration Setup -->
    <div class="feature-card">
        <h3>‚öôÔ∏è Configuration Setup</h3>
        <p>First, create a <code>creds.json</code> file with your Facebook credentials:</p>
        
        <div class="code-block">
{
    "page_id": "your_page_id_here",
    "page_token": "your_page_access_token_here"
}
        </div>
        
        <p><strong>Alternative:</strong> You can also use environment variables:</p>
        <div class="code-block">
export FB_PAGE_ID="your_page_id_here"
export FB_PAGE_TOKEN="your_page_access_token_here"
        </div>
    </div>

    <!-- FacebookPageManager Class -->
    <div class="feature-card">
        <h3>üéØ Method 1: FacebookPageManager Class</h3>
        <p>Our comprehensive class-based approach provides full functionality for Facebook page management:</p>
        
        <h4>üìù Text Posts</h4>
        <div class="code-block">
from faceClass import FacebookPageManager

# Initialize the manager
fb = FacebookPageManager("creds.json")

# Post text content
post_id = fb.post_text("Hello from FacebookPageManager! ü§ñ")
        </div>

        <h4>üì∏ Photo Posts</h4>
        <div class="code-block">
# Post local image
photo_id = fb.post_photo("image.jpg", "Caption for my photo! üì∑")

# Post image from URL
photo_id = fb.post_photo_url(
    "https://example.com/image.jpg", 
    "Caption for URL image! üåê"
)
        </div>

        <h4>üí¨ Comment Management</h4>
        <div class="code-block">
# Add comment to a post
comment_id = fb.write_comment(post_id, "Great post! üí¨")

# Get post comments
comments = fb.get_post_comments(post_id)

# Moderate comments
fb.hide_comment(comment_id)  # Hide inappropriate comment
        </div>

        <h4>üëç Post Interactions</h4>
        <div class="code-block">
# Like a post
fb.like_post(post_id)

# Get post insights
insights = fb.get_post_insights(post_id)

# Get page posts
posts = fb.get_page_posts(limit=10)
        </div>
    </div>

    <!-- Function-based Approach -->
    <div class="feature-card">
        <h3>üîß Method 2: Function-based Approach</h3>
        <p>For simpler use cases, use our function-based posting methods:</p>
        
        <div class="code-block">
from test.post import post_text, post_photo, write_comment

# Simple text post
post_id = post_text("Hello World! üåç")

# Photo post
photo_id = post_photo("image.jpg", "My photo caption")

# Add comment
comment_id = write_comment(post_id, "Nice post!")
        </div>
    </div>

    <!-- Demo Scripts -->
    <div class="feature-card">
        <h3>üéÆ Demo Scripts</h3>
        <p>Try our demo scripts to see the functionality in action:</p>
        
        <h4>Complete Demo</h4>
        <div class="code-block">
python test/demo.py
        </div>
        <p>Runs a complete demonstration including:</p>
        <ul>
            <li>Text posting</li>
            <li>Photo posting</li>
            <li>Comment management</li>
            <li>Content moderation</li>
            <li>Analytics review</li>
        </ul>

        <h4>Safe Demo</h4>
        <div class="code-block">
python test/demo_safe.py
        </div>
        <p>A read-only demo that only retrieves data without posting content.</p>

        <h4>Test Suite</h4>
        <div class="code-block">
python test/test.py
        </div>
        <p>Comprehensive testing of all functionality with detailed results.</p>
    </div>

    <!-- Key Features -->
    <div class="feature-card">
        <h3>‚ú® Key Features</h3>
        <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap: 20px; margin-top: 15px;">
            <div>
                <h4>üìù Content Publishing</h4>
                <ul>
                    <li>Text posts with links</li>
                    <li>Photo posts (local & URL)</li>
                    <li>Scheduled posting</li>
                    <li>Bulk content management</li>
                </ul>
            </div>
            <div>
                <h4>üí¨ Community Management</h4>
                <ul>
                    <li>Comment monitoring</li>
                    <li>Automated responses</li>
                    <li>Content moderation</li>
                    <li>User engagement tracking</li>
                </ul>
            </div>
            <div>
                <h4>üìä Analytics & Insights</h4>
                <ul>
                    <li>Post performance metrics</li>
                    <li>Engagement analytics</li>
                    <li>Audience insights</li>
                    <li>Detailed reporting</li>
                </ul>
            </div>
            <div>
                <h4>üõ°Ô∏è Safety Features</h4>
                <ul>
                    <li>Error handling</li>
                    <li>Rate limiting</li>
                    <li>Content validation</li>
                    <li>Safe mode testing</li>
                </ul>
            </div>
        </div>
    </div>

    <!-- Getting Started -->
    <div class="feature-card">
        <h3>üéØ Ready to Get Started?</h3>
        <p>Follow these steps to start posting to your Facebook page:</p>
        
        <ol style="font-size: 16px; line-height: 1.6;">
            <li><strong>Get your Facebook Page Access Token</strong> from the Facebook Developer Console</li>
            <li><strong>Find your Page ID</strong> from your Facebook Page settings</li>
            <li><strong>Create your creds.json</strong> file with the credentials</li>
            <li><strong>Run the safe demo</strong> to verify your setup: <code>python test/demo_safe.py</code></li>
            <li><strong>Try posting content</strong> with the full demo: <code>python test/demo.py</code></li>
            <li><strong>Integrate into your app</strong> using either the class or function approach</li>
        </ol>
        
        <div style="background: #e3f2fd; border-left: 4px solid #2196f3; padding: 15px; margin: 20px 0; border-radius: 4px;">
            <strong>üí° Pro Tip:</strong> Always test with the safe demo first to ensure your credentials are working correctly before attempting to post content!
        </div>
    </div>

    <!-- Support Section -->
    <div class="feature-card">
        <h3>üÜò Need Help?</h3>
        <p>Check out these resources if you run into issues:</p>
        <ul>
            <li><strong>Test Results:</strong> Review <code>test/test_results.json</code> for detailed testing information</li>
            <li><strong>Configuration:</strong> Verify your <code>creds.json</code> file format and credentials</li>
            <li><strong>Facebook API Docs:</strong> <a href="https://developers.facebook.com/docs/graph-api" target="_blank">Facebook Graph API Documentation</a></li>
            <li><strong>Error Handling:</strong> All methods include comprehensive error handling and logging</li>
        </ul>
    </div>
</div>
{% endblock %}
